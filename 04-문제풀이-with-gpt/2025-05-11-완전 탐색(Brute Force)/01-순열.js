/**
 * âœ… ì™„ì „ íƒìƒ‰ ê°œë… ìš”ì•½
 * í•­ëª©	ì„¤ëª…
 * ğŸ’¡ ì •ì˜	ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ë¥¼ íƒìƒ‰í•˜ëŠ” ë°©ì‹
 * ğŸ§  ì‚¬ìš© ì˜ˆì‹œ	ë¹„ë°€ë²ˆí˜¸ ì¡°í•©, ì¡°í•©/ìˆœì—´, 2ì°¨ì› ë°°ì—´ ì™„ì „ íƒìƒ‰ ë“±
 * â›ï¸ êµ¬í˜„ ë°©ì‹	forë¬¸ ì¤‘ì²©, ì¬ê·€, ë°±íŠ¸ë˜í‚¹ ë“±
 * â±ï¸ ì‹œê°„ ë³µì¡ë„	ì¼ë°˜ì ìœ¼ë¡œ O(n!), O(2â¿) ë“±ìœ¼ë¡œ ë§¤ìš° í¼
 * ğŸ“Œ ì ìš© ì‹œì 	ë¬¸ì œì˜ ì¡°ê±´ì—ì„œ ê°€ëŠ¥í•œ ì…ë ¥ì˜ ë²”ìœ„ê°€ ì‘ì„ ë•Œ (ex. n â‰¤ 10)
 */

/**
 * âœ… ë°±íŠ¸ë˜í‚¹ (Backtracking)ì´ë€?
 * ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ë¥¼ ì‹œë„í•˜ë˜, ì¡°ê±´ì— ë§ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” ë” ì´ìƒ íƒìƒ‰í•˜ì§€ ì•Šê³  ëŒì•„ê°€ëŠ” ì „ëµì´ì•¼.
 * 
 * ì˜ˆì‹œ ìƒí™©
 * ìš°ë¦¬ê°€ 1ë¶€í„° 3ê¹Œì§€ì˜ ìˆ«ìë¥¼ ì´ìš©í•´ ìˆœì—´ì„ ë§Œë“¤ê³  ì‹¶ë‹¤ê³  í•´ë³¼ê²Œ.
 * 
 * * ê°€ëŠ¥í•œ ëª¨ë“  ì¡°í•©: 1-2-3, 1-3-2, 2-1-3, 2-3-1, ...
 * 
 * ì§„í–‰ ìˆœì„œ
 * 
 * ```bash
 * start []
 * â†’ 1 ì¶”ê°€ â†’ [1]
 *   â†’ 2 ì¶”ê°€ â†’ [1,2]
 *     â†’ 3 ì¶”ê°€ â†’ [1,2,3] â† ì •ë‹µ
 *     â†’ 3 ì œê±° â†’ [1,2]
 *   â†’ 2 ì œê±° â†’ [1]
 *   â†’ 3 ì¶”ê°€ â†’ [1,3]
 *     â†’ 2 ì¶”ê°€ â†’ [1,3,2] â† ì •ë‹µ
 * ì´ë ‡ê²Œ "ì‹œë„ â†’ ì¬ê·€ í˜¸ì¶œ â†’ ì‹¤íŒ¨ ì‹œ ë˜ëŒì•„ì˜¤ê¸°" íë¦„ì„ ë°±íŠ¸ë˜í‚¹ì´ë¼ê³  í•´.
 * ```
 */

/**
 * ğŸ§© ì˜ˆì œ ë¬¸ì œ 1: 1ë¶€í„° Nê¹Œì§€ì˜ ëª¨ë“  ìˆœì—´ êµ¬í•˜ê¸°
 * ğŸ“˜ ì…ë ¥: ì •ìˆ˜ n (1 â‰¤ n â‰¤ 8)
 * ğŸ“˜ ì¶œë ¥: 1~nê¹Œì§€ ìˆ«ìì˜ ëª¨ë“  ìˆœì—´ì„ ê° ì¤„ì— í•œ ê°œì”© ì¶œë ¥
 * 
 * @param { number } n
 */
function solution(n) {
  // ë°±íŠ¸ë˜í‚¹ ì‚¬ìš©í•˜ê¸°
  // DFS ë¡œ êµ¬í˜„í•˜ê¸°

  const result = [];

  const visited = Array.from({
    length: n + 1,
  }, () => false);

  const currentPermuation = [];

  dfs(0);

  return result;

  function dfs(depth) {
    if (depth === n) {
      result.push([...currentPermuation]);
      return;
    }

    for (let i = 1; i <= n; i++) {
      if (visited[i]) {
        continue;
      }

      visited[i] = true;
      currentPermuation.push(i);

      dfs(depth + 1);

      // ë°±íŠ¸ë˜í‚¹
      visited[i] = false;
      currentPermuation.pop();
    }
  }
}

const questions = [
  {
    n: 3,
    answer: [
      [1, 2, 3],
      [1, 3, 2],
      [2, 1, 3],
      [2, 3, 1],
      [3, 1, 2],
      [3, 2, 1],
    ],
  },
];

questions.forEach(question => {
  const {
    n,
    answer,
  } = question;

  const result = solution(n);

  console.group('âœ… ì™„ì „ íƒìƒ‰ ê°œë… ìš”ì•½');
  console.log('n: ', n);
  console.log('answer: ', answer);
  console.log('result: ', result);
  console.log('pass: ', JSON.stringify(result) === JSON.stringify(answer));
  console.groupEnd();
});
